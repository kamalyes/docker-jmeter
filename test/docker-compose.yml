version: '3'

services:
  master:
    image: kamalyes/jmeter:v1.0.0
    command: master
    container_name: jmeter-master # 容器名称
    tty: true
    ports:
      - 60000:60000
    volumes:
      - "../sample_test/:/jmeter/sample_test/"
    networks:
      - jmeter-network

  server:
    image: kamalyes/jmeter:v1.0.0
    command: server
    container_name: jmeter-slave # 容器名称
    tty: true
    ports:
      - 1099:1099
      - 50000:50000
    networks:
      - jmeter-network
    depends_on:
      - master

networks:
  jmeter-network:
    driver: bridge
